---
import EmailIcon from './icons/EmailIcon.astro';
import LinkedInIcon from './icons/LinkedInIcon.astro';
import GitHubIcon from './icons/GitHubIcon.astro';
import FadeIn from './react/FadeIn';
---

<section id="about" class="min-h-screen flex items-center justify-center px-4 py-16">
  <div class="about-container">
    <div class="about-header">
      <FadeIn client:visible>
        <div class="headshot-container">
          <img src="/images/headshotimage.avif" alt="Steven Glab" class="headshot" />
        </div>
      </FadeIn>

      <FadeIn client:visible delay={0.1}>
        <h2 class="name">Steven Glab</h2>
      </FadeIn>

      <FadeIn client:visible delay={0.2}>
        <div class="contact-links">
          <a href="mailto:steven@sbtl.dev" class="icon-link" aria-label="Email" target="_blank">
            <EmailIcon />
          </a>
          <a href="https://linkedin.com/in/stevenglab" class="icon-link" aria-label="LinkedIn" target="_blank">
            <LinkedInIcon />
          </a>
          <a href="https://github.com/thesubtleties" class="icon-link" aria-label="GitHub" target="_blank">
            <GitHubIcon />
          </a>
          <span class="separator">|</span>
          <a 
            href="/steven-glab-resume-2025.pdf" 
            class="resume-link" 
            target="_blank" 
            rel="noopener noreferrer"
          >
            résumé
          </a>
        </div>
      </FadeIn>
    </div>

    <div class="content-section">
      <FadeIn client:visible delay={0.4}>
        <div class="tab-navigation">
          <button class="tab-button active" data-tab="overview">Overview</button>
          <button class="tab-button" data-tab="journey">My Journey</button>
        </div>

        <div class="tab-content">
          <!-- Overview Tab -->
          <div class="tab-panel active" id="overview">
            <div class="transition-story">
              <p class="highlight-text">
                Forward-thinking technology professional transitioning to software development, combining full-stack expertise with 12+ years of business leadership experience.
              </p>
            </div>

            <div class="skills-container">
              <div class="skills-group">
                <h3>Frontend</h3>
                <div class="skills-list">
                  <span class="skill-tag">Next.js</span>
                  <span class="skill-tag">React Router</span>
                  <span class="skill-tag">Redux Toolkit</span>
                  <span class="skill-tag">RTK Query</span>
                  <span class="skill-tag">Zod</span>
                  <span class="skill-tag">Tailwind CSS</span>
                  <span class="skill-tag">Motion</span>
                  <span class="skill-tag">GSAP</span>
                  <span class="skill-tag">Socket.io</span>
                </div>
              </div>

              <div class="skills-group">
                <h3>Backend</h3>
                <div class="skills-list">
                  <span class="skill-tag">Flask</span>
                  <span class="skill-tag">SQLAlchemy</span>
                  <span class="skill-tag">Express</span>
                  <span class="skill-tag">FastAPI</span>
                  <span class="skill-tag">Sequelize</span>
                  <span class="skill-tag">PostgreSQL</span>
                  <span class="skill-tag">Marshmallow</span>
                  <span class="skill-tag">Pydantic</span>
                  <span class="skill-tag">Atomic Agents</span>
                </div>
              </div>

              <div class="skills-group">
                <h3>DevOps/Infrastructure</h3>
                <div class="skills-list">
                  <span class="skill-tag">Kubernetes (K3s)</span>
                  <span class="skill-tag">Longhorn Storage</span>
                  <span class="skill-tag">GitHub Actions CI/CD</span>
                  <span class="skill-tag">Cloud Native PostgreSQL</span>
                  <span class="skill-tag">Backblaze B2</span>
                  <span class="skill-tag">Docker Compose</span>
                </div>
              </div>

              <div class="skills-group">
                <h3>Tools</h3>
                <div class="skills-list">
                  <span class="skill-tag">Git</span>
                  <span class="skill-tag">Nginx</span>
                  <span class="skill-tag">Postman</span>
                  <span class="skill-tag">MinIO</span>
                  <span class="skill-tag">Docker</span>
                  <span class="skill-tag">Payload CMS</span>
                  <span class="skill-tag">Swagger/OpenAPI</span>
                </div>
              </div>
            </div>

            <div class="background-highlight">
              <p>Scaled operations from $1.5M to $5M+ in revenue while leading technical implementations for Fortune 500 executives and government leaders.</p>
            </div>
          </div>

          <!-- Journey Tab -->
          <div class="tab-panel" id="journey">
            <div class="journey-content">
              <p class="journey-text">
                I spent 12 years in technical production and operations leadership before writing my first line of code. When COVID hit in 2020, I led our company's pivot to virtual events - managing the technical side of productions for sitting presidents, Fortune 500 CEOs, and thousands of attendees where everything had to work the first time.
              </p>

              <p class="journey-text">
                While customizing virtual event platforms with JavaScript and CSS, something clicked. The problem-solving, the systems thinking, the need for things to just work - it was the same skillset I'd been using, just applied differently. I started The Odin Project that year and haven't really stopped coding since.
              </p>

              <p class="journey-text">
                What I appreciate about development is the same thing I valued in production: building systems that work reliably under pressure. No debugging in front of 2,000 attendees. No "we'll fix it in post." Just solid architecture and attention to the details that actually matter.
              </p>

              <p class="journey-text">
                The transition from operations leadership to full-stack development isn't typical, but the fundamentals transfer: understand the system, anticipate failure points, build for reliability, and sweat the details that users will never see but will absolutely feel if you get them wrong.
              </p>
            </div>
          </div>
        </div>
      </FadeIn>
    </div>
  </div>
</section>

<style>
  /* Keep your existing styles and add: */
  .about-container {
    max-width: 1000px;
    width: 100%;
    margin: 0 auto;
  }

  .about-header {
    margin-bottom: 3rem;
    text-align: center;
  }

  .name {
    font-family: 'Mr Dafoe', sans-serif;
    font-size: 3.5rem;
    font-weight: 400;
    color: var(--color-primary);
    margin-bottom: 0.25rem;
    margin-top: 0;
    letter-spacing: -0.02em;
    text-shadow: 0 1px 1px rgba(0, 0, 0, 0.03);
  }

  .headshot-container {
    width: 120px;
    height: 120px;
    margin: 0 auto 0.25rem;
    border-radius: 50%;
    border: 3px solid var(--color-primary);
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }

  .headshot {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  .contact-links {
    display: flex;
    justify-content: center;
    gap: 1.5rem;
    align-items: center;
  }

  .icon-link {
    color: var(--color-accent);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
  }

  .icon-link svg {
    width: 24px;
    height: 24px;
  }

  .icon-link:hover {
    color: var(--color-primary);
    transform: translateY(-2px);
  }

  .content-section {
    display: flex;
    flex-direction: column;
    gap: 2.5rem;
  }

  .transition-story {
    text-align: center;
    max-width: 800px;
    margin: 0 auto;
  }

  .highlight-text {
    font-size: 1.2rem;
    line-height: 1.6;
    color: var(--color-primary);
  }

  .skills-container {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 2rem;
    margin: 2rem 0;
  }

  .skills-group h3 {
    color: var(--color-primary);
    margin-bottom: 1rem;
    font-size: 1.1rem;
    font-weight: 600;
    position: relative;
    padding-bottom: 0.5rem;
  }

  .skills-group h3::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 40px;
    height: 2px;
    background-color: var(--color-accent);
  }

  .skills-list {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .skill-tag {
    background-color: var(--color-subtle);
    color: var(--color-primary);
    padding: 0.4rem 0.8rem;
    border-radius: 4px;
    font-size: 0.9rem;
    transition: all 0.3s ease;

    border: 1px solid rgba(0, 0, 0, .03);
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
  }

  .skill-tag:hover {
    background-color: var(--color-accent);
    color: white;
    transform: translateY(-2px);
  }

  .background-highlight {
    text-align: center;
    color: var(--color-accent);
    font-size: 1.1rem;
    line-height: 1.6;
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem;
    border-top: 1px solid var(--color-subtle);
  }
  .separator {
    color: var(--color-accent);
    opacity: 0.5;
    margin: 0 0.5rem;
  }

  .resume-link {
    color: var(--color-accent);
    text-decoration: none;
    font-size: 0.95rem;
    letter-spacing: 0.02em;
    transition: all 0.3s ease;
    padding: 0.3rem 0.6rem;
    border: 1px solid transparent;
    border-radius: 4px;
  
  }

  .resume-link:hover {
    color: var(--color-primary);
    border-color: var(--color-subtle);
    background-color: var(--color-subtle);
    transform: translateY(-2px);
  }

  @media (max-width: 768px) {
    .about-container {
      padding: 1rem;
    }

    .name {
      font-size: 3rem;
    }

    .skills-container {
      grid-template-columns: 1fr;
    }
    
  }
  @media (max-width: 768px) {
    .contact-links {
      flex-wrap: wrap;
      justify-content: center;
    }

    .separator {
      display: none;
    }

    .resume-link {
      padding: 0.4rem 1rem;
      background-color: var(--color-subtle);
      height: auto;
    }
  }
  .tab-navigation {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 2rem;
  }

  .tab-button {
    background-color: var(--color-subtle);
    color: var(--color-primary);
    padding: 0.5rem 1.2rem;
    border-radius: 4px;
    font-size: 0.95rem;
    border: 1px solid rgba(0, 0, 0, .03);
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
    cursor: pointer;
  }

  .tab-button:hover {
    transform: translateY(-2px);
    background-color: var(--color-accent);
    color: white;
  }

  .tab-button.active {
    background-color: var(--color-accent);
    color: white;
  }

  .tab-content {
    position: relative;
  }

  .tab-panel {
    opacity: 0;
    visibility: hidden;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    transition: opacity 0.3s ease;
    min-height: 600px;
  }

  .tab-panel.active {
    opacity: 1;
    visibility: visible;
    position: relative;
    min-height: 600px;
  }

  .journey-content {
    max-width: 800px;
    margin: 0 auto;
    padding: 0 1rem;
    margin-bottom: 2rem;
  }

  .journey-intro {
    font-size: 1.2rem;
    line-height: 1.6;
    color: var(--color-primary);
    text-align: center;
    margin-bottom: 2rem;
  }
  .journey-text {
    font-size: 1.1rem;
    line-height: 1.6;
    color: var(--color-primary);
    text-align: center;
    text-align-last: center;
    margin-bottom: 2rem;
    opacity: 0.9;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
  }

  @media (max-width: 768px) {
    .tab-navigation {
      gap: 0.5rem;
    }

    .tab-button {
      padding: 0.4rem 1rem;
      font-size: 0.9rem;
    }

    .journey-text {
      font-size: 1.1rem;
      line-height: 1.6;
      margin-bottom: 1.5rem;
    }
  }

  /* Responsive scaling for laptop screens with limited height */
  @media (max-height: 900px) and (min-width: 768px) {
    .about-header {
      margin-bottom: clamp(1.5rem, 4vh, 3rem);
    }

    .name {
      font-size: clamp(2.5rem, 5vh, 3.5rem);
      margin-bottom: clamp(0.8rem, 2vh, 1.2rem);
    }

    .contact-links {
      gap: clamp(1rem, 2vh, 1.5rem);
    }

    .icon-link svg {
      width: clamp(20px, 3vh, 24px);
      height: clamp(20px, 3vh, 24px);
    }

    .resume-link {
      font-size: clamp(0.85rem, 1.5vh, 0.95rem);
    }

    .content-section {
      gap: clamp(1.5rem, 3vh, 2.5rem);
    }

    .highlight-text {
      font-size: clamp(1rem, 2vh, 1.2rem);
      line-height: 1.5;
    }

    .skills-container {
      gap: clamp(1.2rem, 2.5vh, 2rem);
      margin: clamp(1.2rem, 2.5vh, 2rem) 0;
    }

    .skills-group h3 {
      font-size: clamp(0.95rem, 2vh, 1.1rem);
      margin-bottom: clamp(0.6rem, 1.5vh, 1rem);
    }

    .skills-list {
      gap: clamp(0.3rem, 0.8vh, 0.5rem);
    }

    .skill-tag {
      padding: clamp(0.3rem, 0.6vh, 0.4rem) clamp(0.6rem, 1.2vh, 0.8rem);
      font-size: clamp(0.8rem, 1.5vh, 0.9rem);
    }

    .background-highlight {
      font-size: clamp(0.95rem, 2vh, 1.1rem);
      padding: clamp(1.2rem, 2.5vh, 2rem);
      line-height: 1.5;
    }

    .tab-navigation {
      margin-bottom: clamp(1.2rem, 2.5vh, 2rem);
    }

    .tab-button {
      padding: clamp(0.4rem, 0.8vh, 0.5rem) clamp(1rem, 2vh, 1.2rem);
      font-size: clamp(0.85rem, 1.5vh, 0.95rem);
    }

    .journey-text {
      font-size: clamp(0.95rem, 2vh, 1.1rem);
      margin-bottom: clamp(1.2rem, 2.5vh, 2rem);
    }

    .tab-panel,
    .tab-panel.active {
      min-height: clamp(400px, 60vh, 600px);
    }
  }
</style>

<script>
  const tabButtons = document.querySelectorAll('.tab-button');
  const tabPanels = document.querySelectorAll('.tab-panel');

  tabButtons.forEach(button => {
    button.addEventListener('click', () => {
      // Remove active class from all buttons and panels
      tabButtons.forEach(btn => btn.classList.remove('active'));
      tabPanels.forEach(panel => panel.classList.remove('active'));

      // Add active class to clicked button and corresponding panel
      button.classList.add('active');
      const tabId = button.dataset.tab;
      document.getElementById(tabId)?.classList.add('active');
    });
  });
</script>

